    <!DOCTYPE html>
    <html lang="es">
    <head>
    <meta charset="UTF-8">
    <title>Alumnos del ciclo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_alumnos.css') }}">
    </head>
    <body>
    <div class="container">
        <h1>Alumnos del ciclo {{ ciclo.nombre if ciclo else '‚Äî' }}</h1>

        <!-- üîî Mensajes flash -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="toast-container">
            {% for category, message in messages %}
                <div class="toast toast-{{ category }}">{{ message }}</div>
            {% endfor %}
            </div>
        {% endif %}
        {% endwith %}

        {% if ciclo %}
        <form action="{{ url_for('admin_bp.importar_alumnos_ciclo') }}" method="POST" enctype="multipart/form-data" class="import-form">
            <input type="file" name="file" accept=".xlsx,.csv" required>
            <button type="submit">üì§ Importar alumnos</button>
        </form>

        <h2>Listado de alumnos</h2>
        <table>
            <thead>
            <tr>
                <th>Nombre</th>
                <th>Grado</th>
                <th>Grupo</th>
                <th>Nivel</th>
                <th>Bloque</th>
            </tr>
            </thead>
            <tbody>
            {% for a in alumnos %}
            <tr>
                <td>{{ a.nombre }}</td>
                <td>{{ a.grado }}</td>
                <td>{{ a.grupo }}</td>
                <td>{{ a.nivel }}</td>
                <td>{{ a.bloque.nombre if a.bloque else '‚Äî' }}</td>
            </tr>
            {% else %}
            <tr><td colspan="5">No hay alumnos registrados a√∫n.</td></tr>
            {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="warning">‚ö†Ô∏è No hay un ciclo activo. Activa un ciclo antes de importar alumnos.</p>
        {% endif %}
    </div>

    <script>
    // üí® Desvanecer mensajes autom√°ticamente
    setTimeout(() => {
        document.querySelectorAll('.toast').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(-10px)';
        setTimeout(() => el.remove(), 600);
        });
    }, 3000);
    </script>
    </body>
    </html>
